






def warn(*args, **kwargs):
    pass



import warnings
warnings.warn = warn


import pickle
import sys
from feature_Extraction import extract_features, create_vector_single
from tkinter import *
from tkinter import filedialog



if __name__ == '__main__':

	root=Tk()
	root.filename=filedialog.askopenfilename(initialdir = "/",title = "Select file",filetypes = (("apk files","*.apk"),("all files","*.*")))

	file_path=str(root.filename)
	root.mainloop()
	features=extract_features(file_path)
	# Form the feature vector
	feature_vector = create_vector_single(features)
	arr=[]
	arr.append(feature_vector)
	#load the feature model
	feature_model = pickle.load(open("feature_model.p", "rb"))
	#load the three classification models
	svm_model=pickle.load(open("kfold_train_data.p"))
	decision_model=pickle.load(open("decision.p"))
	random_forest_model=pickle.load(open("random_forest.p"))
	feature_vector_new = model.transform(arr)
	#SVM prediction
	result = svm_model.predict(feature_vector_new)
	if int(result[0]==1):
		print("SVM result: Malware")
	else:
		print("SVM result:Benign")

	#Decision Tree prediction
	result=decision_model.predict(feature_vector_new)
	if int(result[0]==1):
		print("Decision Tree result: Malware")
	else:
		print("Decision Tree result: Benign")
	#Random Forest prediction
	result=decision_model.predict(feature_vector)
	if int(result[0]==1):
		print("Random Forest result: Malware")
	else:
		print("Random Forest result: Benign")













	
 	 

 	 

 		
 	

 	
 	
 	
 	

 	
 	

 	
 	
 	
 	

 	

 	
 	
 	
 		
 	
 		


 	
 	
 	
 		
 	
 		


 	
 	
 	
 		
 	
 		






	


		  